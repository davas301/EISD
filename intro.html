

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Use &mdash; EISD 0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="EISD 0.2 documentation" href="index.html"/>
        <link rel="next" title="Use" href="use.html"/>
        <link rel="prev" title="Welcome!" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> EISD</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-file">Input File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#experimental-data-files">Experimental Data Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html#input-file">Input File</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html#experimental-data-files">Experimental Data Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-eisdcore">eisdcore</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-backcalc">backcalc</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-priors">priors</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-eisdstructure">eisdstructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-readutil">readutil</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-util">util</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#module-setupeisd">setupeisd</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">EISD</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Use</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="sources/intro.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="use">
<h1>Use<a class="headerlink" href="#use" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Given an ensemble of structures and a set of NMR experimental data, EISD
determines a Bayesian probability that the ensemble fits the experimental data.
This program embeds this probability calculation in a Simulated Annealing (SA)
procedure that allows users to find the optimal subset of structures from
an initial reservoir. At each step of the SA procedure, the current subset
is perturbed by randomly swapping a structure with one from the reservoir and
then determining the EISD probability of the perturbed subset. The difference
in EISD probabilities between the original and perturbed subsets the determines
the Metropolis acceptance probability for the perturbation, with temperature
specified by a SA cooling schedule. This procedure begins by choosing a random
subset from the reservoir and terminates after a specified number of
attempted swap iterations.</p>
</div>
<div class="section" id="input-file">
<span id="id1"></span><h2>Input File<a class="headerlink" href="#input-file" title="Permalink to this headline">¶</a></h2>
<p>In order to run this EISD optimization program from the command line, one must
given the path to an input file as the first argument:</p>
<div class="highlight-python"><div class="highlight"><pre>$ eisdrun.py &lt;input_file&gt;
</pre></div>
</div>
<p>This input file is a whitespace-delimited text file that contains all
user-specified options. Each option is specified on a single line with a
keyword and value separated by whitespace. Blank lines, lines not containing
a keyword or lines starting with <code class="code docutils literal"><span class="pre">#</span></code> are ignored:</p>
<div class="highlight-python"><div class="highlight"><pre>KEYWORD1    value1
KEYWORD2    value2
# This is a comment

KEYWORD3    value3
</pre></div>
</div>
<p>The table below describes the possbile keywords and value types. Values
in parentheses are the only options for those keywords. Scrool to the
right to see which keywords are required and the default values for those
that are not.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="56%" />
<col width="23%" />
<col width="9%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Keyword</th>
<th class="head">Value</th>
<th class="head">Required?</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PDBDIR</td>
<td>Path to directory containing structure reservoir</td>
<td>Always</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>SUB_SIZE</td>
<td>Desired number of structures in output subset</td>
<td>Always</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>N_ITER</td>
<td>Number of SA iterations to perform</td>
<td>Recommended</td>
<td>50,000</td>
</tr>
<tr class="row-odd"><td>SAVE_FILE</td>
<td>Path to file to file names in optimal subset</td>
<td>Always</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>STATS_FILE</td>
<td>Path to file to save run statistics in</td>
<td>Recommended</td>
<td>std_out</td>
</tr>
<tr class="row-odd"><td>USE_JCOUP</td>
<td>(true/&#8217;false) Use J coupling experimetal data?</td>
<td>If USE_SHIFT is false</td>
<td>false</td>
</tr>
<tr class="row-even"><td>JCOUP_PATH</td>
<td>Path to J coupling data</td>
<td>If USE_JCOUP is true</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>USE_SHIFT</td>
<td>(true/false) Use chemical shift  experimental data?</td>
<td>If USE_SHIFT is false</td>
<td>false</td>
</tr>
<tr class="row-even"><td>SHIFT_PATH</td>
<td>Path to chemical shift data</td>
<td>If USE_SHIFT is true&#8217;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>COOL_SCHED</td>
<td>(gaussian/linear) Type of SA cooling schedule to use</td>
<td>No</td>
<td>gaussian</td>
</tr>
<tr class="row-even"><td>COOL_TO</td>
<td>Starting temperature of cooling schedule</td>
<td>No</td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td>COOL_SCALE</td>
<td>Scale of cooling scedule</td>
<td>No</td>
<td>2</td>
</tr>
<tr class="row-even"><td>PRIOR</td>
<td>(uniform) Type of prior to use</td>
<td>No</td>
<td>uniform</td>
</tr>
<tr class="row-odd"><td>PRIOR_UNI_M</td>
<td>Number of ensembles in uniform prior state space</td>
<td>No</td>
<td>10</td>
</tr>
<tr class="row-even"><td>RUN_SHIFTX</td>
<td>(true/false) Run shiftx on every structure?</td>
<td>No</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>SHIFT_EXE</td>
<td>Path to SHIFTX executable</td>
<td>If RUN_SHIFTX is true</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>An example input file can be found in <code class="code docutils literal"><span class="pre">$EISD_HOME/test/ab42_example.inp</span></code>.</p>
</div>
<div class="section" id="experimental-data-files">
<h2>Experimental Data Files<a class="headerlink" href="#experimental-data-files" title="Permalink to this headline">¶</a></h2>
<p>Experimental data files that are input into EISD must have a specific format,
which is the same as that used in the ENSEMBLE program. The format for each
experimental data point is described below, with examples.</p>
<div class="section" id="chemical-shift">
<h3>Chemical Shift<a class="headerlink" href="#chemical-shift" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>Residue     Atom    Chemical Shift      Error
</pre></div>
</div>
</div>
<div class="section" id="j-coupling">
<h3>J-Coupling<a class="headerlink" href="#j-coupling" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>Res1    Atom1   Res2    Atom2   Res3    Atom3   Res4    Atom4   J   Err_Low   Err_Up
</pre></div>
</div>
<p>Example files can be found in <code class="code docutils literal"><span class="pre">$EISD_HOME/test/</span></code></p>
</div>
</div>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Welcome to EISD! Short for Experimental Inferential Structure
Determination, EISD was developed in Teresa Head-Gordon&#8217;s lab at
UC Berkeley with the goal of providing probability scores to ensembles of
Intrinsically Disordered Proteins (IDPs) based on their fit to experimental
data and conformational prior distributions. The theory underlying this
code is presented in <a class="reference internal" href="references.html#brhe16" id="id2">[BrHe16]</a>.</p>
<p>EISD currently allows one to determine probabilities of ensembles using
a number of different experimental data types and priors, as well as to
optimize an ensemble by finding the subset of structures with the highest
probability.</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>EISD relies on a number of Python libraries and external programs, listed
below:</p>
<ul class="simple">
<li><strong>SciPy</strong> <a class="reference internal" href="references.html#joop01" id="id3">[JoOP01]</a></li>
<li><strong>Biopython</strong> <a class="reference internal" href="references.html#cacc09" id="id4">[CACC09]</a></li>
<li><strong>SHIFTX2</strong> <a class="reference internal" href="references.html#blgw11" id="id5">[BLGW11]</a></li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install EISD, one must first install the dependencies above. This is most
easily done with the <code class="code docutils literal"><span class="pre">pip</span></code> tool, which can be installed by following the
instructions <a class="reference external" href="https://pip.pypa.io/en/stable/installing/">here</a>. Then type on the command line:</p>
<div class="highlight-python"><div class="highlight"><pre>$ pip install numpy
$ pip install scipy
$ pip install biopython
</pre></div>
</div>
<p>Next, clone the git repository:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/davas301/eisd.git
</pre></div>
</div>
<p>Now navigate to the downloaded directory and run the setup tool:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd eisd/
$ python setup.py
</pre></div>
</div>
<p>EISD can now be run with the command:</p>
<div class="highlight-python"><div class="highlight"><pre>$ eisdrun.py &lt;input_file&gt;
</pre></div>
</div>
<p>where <code class="code docutils literal"><span class="pre">&lt;input_file&gt;</span></code> is an EISD input file (described in detail in the
<a class="reference internal" href="use.html#input-file"><span>Input File</span></a> section)</p>
<p>The EISD modules can now be imported into any local python program.</p>
<p>Users may also want to install <strong>SHIFTX2</strong> for chemical shift prediction, whose download and installation
instructions can be found on <a class="reference external" href="&quot;http://www.shiftx2.ca/&quot;">their website</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="use.html" class="btn btn-neutral float-right" title="Use">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome!"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, David Brookes and Teresa Head-Gordon.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>